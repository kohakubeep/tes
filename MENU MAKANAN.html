<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Menu Makanan | Warung Bunda Sri</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Inter',sans-serif;
      background:#f5f7fa;
      color:#333
    }

    /* NAVBAR */
    .navbar{
      display:flex;justify-content:space-between;align-items:center;
      padding:14px 32px;background:#ffffff;
      box-shadow:0 2px 10px rgba(0,0,0,.08)
    }
    .navbar a{text-decoration:none}
    .brand{font-size:20px;font-weight:700;color:#ff5722}
    .nav-actions a{
      margin-left:12px;padding:8px 16px;border-radius:20px;
      font-size:14px;font-weight:600
    }
    .btn-outline{
      border:1.5px solid #ff5722;color:#ff5722
    }
    .btn-outline:hover{background:#ff5722;color:#fff}

    /* TITLE */
    .page-title{
      text-align:center;margin:40px 0 10px
    }
    .page-title h1{font-size:28px;font-weight:700}
    .page-title p{color:#666;font-size:14px}

    /* GRID */
    .container{padding:0 8%}
    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:22px;margin-top:30px
    }

    /* CARD */
    .card{
      background:#fff;border-radius:14px;overflow:hidden;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
      transition:.25s
    }
    .card:hover{
      transform:translateY(-6px);
      box-shadow:0 14px 30px rgba(0,0,0,.15)
    }
    .card img{
      width:100%;height:150px;object-fit:cover
    }
    .card-body{padding:14px}
    .card-body h4{font-size:16px;margin-bottom:6px}
    .price{color:#ff5722;font-weight:700;font-size:14px}

    .btn-cart{
      margin-top:10px;width:100%;
      background:#ff5722;color:#fff;
      border:none;padding:9px;
      border-radius:20px;font-size:14px;font-weight:600;
      cursor:pointer;
    }
    .btn-cart:hover{background:#e64a19}

    /* FLOATING CART */
    .floating-cart{
      position:fixed;right:22px;bottom:22px;
      background:#ff5722;color:#fff;
      padding:14px 20px;border-radius:30px;
      font-weight:700;text-decoration:none;
      box-shadow:0 10px 25px rgba(0,0,0,.25)
    }

    .empty-state{
      text-align:center;
      padding:60px 20px;
      color:#6c757d;
    }

    .empty-state-icon{
      font-size:80px;
      opacity:.3;
      margin-bottom:20px;
    }

    footer{
      margin-top:70px;padding:18px;
      background:#212529;color:#fff;
      text-align:center;font-size:13px
    }

    @media(max-width:600px){
      .container{padding:0 5%}
      .page-title h1{font-size:24px}
    }
  </style>

</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <a href="HOME.html" class="brand">üçΩÔ∏è Warung Bunda Sri</a>
  <div class="nav-actions">
    <a href="HOME.html" class="btn-outline">Home</a>
    <a href="KERANJANG PESANAN.html" class="btn-outline">Keranjang</a>
  </div>
</nav>

<!-- TITLE -->
<div class="page-title">
  <h1>üçõ Menu Makanan</h1>
  <p>Pilihan masakan, cemilan favorit</p>
</div>

<!-- CONTENT -->
<div class="container">
  <div class="grid" id="foodGrid"></div>
</div>

<!-- FLOATING CART -->
<a href="KERANJANG PESANAN.html" class="floating-cart">üõí Lihat Keranjang</a>

<footer>
  ¬© 2025 Warung Bunda Sri ‚Äî Menu Makanan
</footer>

<script>
// Load menus from localStorage
let menus = JSON.parse(localStorage.getItem('menus')) || [];

// Filter only makanan category
const foods = menus.filter(menu => menu.category === 'makanan');

const grid = document.getElementById("foodGrid");

// Check if there are foods
if(foods.length === 0){
  grid.innerHTML = `
    <div class="empty-state" style="grid-column: 1/-1;">
      <div class="empty-state-icon">üçΩÔ∏è</div>
      <h4>Belum Ada Menu Makanan</h4>
      <p>Menu makanan belum ditambahkan oleh admin</p>
    </div>
  `;
} else {
  grid.innerHTML = foods.map(item => `
    <div class="card">
      <img src="${item.image}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/220x150?text=No+Image'">
      <div class="card-body">
        <h4>${item.name}</h4>
        <div class="price">Rp ${item.price.toLocaleString('id-ID')}</div>
        <button class="btn-cart" onclick="addCart('${item.name.replace(/'/g, "\\'")}', ${item.price})">
          Tambah ke Keranjang
        </button>
      </div>
    </div>
  `).join('');
}

function addCart(name, price){
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart.push({name, price});
  localStorage.setItem('cart', JSON.stringify(cart));
  
  // Show notification
  showNotification(name + ' ditambahkan ke keranjang');
}

function showNotification(message){
  // Check if notification already exists
  const existingNotif = document.querySelector('.notification');
  if(existingNotif){
    existingNotif.remove();
  }
  
  const notification = document.createElement('div');
  notification.className = 'notification';
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: #198754;
    color: white;
    padding: 15px 25px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,.2);
    z-index: 9999;
    animation: slideIn 0.3s ease;
  `;
  notification.textContent = message;
  
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease';
    setTimeout(() => notification.remove(), 300);
  }, 2000);
}

// Add CSS animations
const style = document.createElement('style');
style.textContent = `
  @keyframes slideIn {
    from {
      transform: translateX(400px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  
  @keyframes slideOut {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(400px);
      opacity: 0;
    }
  }
`;
document.head.appendChild(style);
</script>

</body>
</html>